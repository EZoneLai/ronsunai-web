/**
 * 容晟科技 - 智慧術數引擎
 * Numerology Engine for Brand Naming & Digital Sovereignty
 */

// 1-81 靈動數完整資料庫
export const NUMEROLOGY_DATABASE = {
  "1": { "title": "大展鴻圖", "desc": "繁榮發達,信用得固,萬事如意,利祿豐厚。", "status": "大吉" },
  "2": { "title": "根基不固", "desc": "動搖不安,一盛一衰,勞而無功,終陷苦難。", "status": "凶" },
  "3": { "title": "根深蒂固", "desc": "立身處世,有貴人助,天賜吉祥,四海揚名。", "status": "大吉" },
  "4": { "title": "坎坷艱辛", "desc": "日被雲遮,苦難折磨,非有毅力,難望成功。", "status": "凶" },
  "5": { "title": "陰陽和合", "desc": "精神愉快,富有進取,成就大業,興家立業。", "status": "大吉" },
  "6": { "title": "萬寶集門", "desc": "貴人得助,天乙守護,立己美德,永慶如意。", "status": "吉" },
  "7": { "title": "精力旺盛", "desc": "勇往直前,排除萬難,成功隆昌,權力顯赫。", "status": "吉" },
  "8": { "title": "意志堅剛", "desc": "志剛意堅,忍耐力強,突破萬難,必能成功。", "status": "吉" },
  "9": { "title": "興盡悲來", "desc": "名利雖有,但根基淺,災難不絕,晚景淒涼。", "status": "凶" },
  "10": { "title": "萬事終局", "desc": "空費心力,徒勞無功,財源受損,難免困苦。", "status": "大凶" },
  "11": { "title": "穩健發展", "desc": "草木逢春,枝葉鮮茂,穩健紮實,名利雙收。", "status": "吉" },
  "12": { "title": "薄弱無力", "desc": "意志薄弱,無力謀生,發展困難,難成大事。", "status": "凶" },
  "13": { "title": "智略超群", "desc": "天賦聰穎,富於謀略,學識淵博,功名成就。", "status": "大吉" },
  "14": { "title": "淪落天涯", "desc": "孤獨困苦,勞而無功,處境艱難,煩惱不斷。", "status": "凶" },
  "15": { "title": "謙恭做事", "desc": "慈祥有德,福祿齊備,外受提拔,貴人相助。", "status": "大吉" },
  "16": { "title": "名利雙收", "desc": "反凶化吉,天賦吉運,眾望所歸,成就大業。", "status": "大吉" },
  "17": { "title": "突破萬難", "desc": "權威剛強,剛毅果斷,排除障礙,終獲成功。", "status": "吉" },
  "18": { "title": "有志竟成", "desc": "經商做事,必能成功,功名利祿,繁榮昌盛。", "status": "吉" },
  "19": { "title": "風雲蔽日", "desc": "內外交困,難以發展,雖有智謀,苦於無力。", "status": "凶" },
  "20": { "title": "非業破運", "desc": "進退維谷,多難災殃,勞而無功,苦惱重重。", "status": "大凶" },
  "21": { "title": "明月光照", "desc": "光風霽月,萬事如意,權威顯赫,富貴榮華。", "status": "大吉" },
  "22": { "title": "秋草逢霜", "desc": "志向雖遠,但力不從心,憂悶不安,難以發展。", "status": "凶" },
  "23": { "title": "旭日東升", "desc": "偉大成就,名震四海,志氣昂揚,終成大業。", "status": "大吉" },
  "24": { "title": "家門餘慶", "desc": "才略卓越,白手起家,財源廣進,子孫繁榮。", "status": "大吉" },
  "25": { "title": "性格剛強", "desc": "資質英敏,排除萬難,雖有傲骨,必成大器。", "status": "吉" },
  "26": { "title": "變怪奇異", "desc": "英雄好傑,波瀾重疊,雖有大功,難免多難。", "status": "凶帶吉" },
  "27": { "title": "自我奮鬥", "desc": "一盛一衰,雖有智慧,但難守成,中年多苦。", "status": "吉帶凶" },
  "28": { "title": "魚臨旱地", "desc": "災禍不斷,難以立身,非有貴人,難逃困厄。", "status": "凶" },
  "29": { "title": "欲望無窮", "desc": "才氣縱橫,財祿豐足,成就大業,名利雙收。", "status": "大吉" },
  "30": { "title": "浮沈不安", "desc": "絕處逢生,吉凶參半,成敗在天,難免波動。", "status": "吉帶凶" },
  "31": { "title": "智勇雙全", "desc": "名利雙收,成就大業,大顯身手,終獲成功。", "status": "大吉" },
  "32": { "title": "僥倖貴人", "desc": "若得貴人,成就非凡,財源廣進,如意吉祥。", "status": "吉" },
  "33": { "title": "家門隆昌", "desc": "名震四海,富貴榮華,功名利祿,如日中天。", "status": "大吉" },
  "34": { "title": "破家亡身", "desc": "財帛緣薄,進退維谷,苦難折磨,必受災殃。", "status": "大凶" },
  "35": { "title": "文采斐然", "desc": "才華橫溢,文藝學術,成就非凡,平安吉祥。", "status": "吉" },
  "36": { "title": "風浪不平", "desc": "波濤重疊,常陷困境,雖有智慧,難成大業。", "status": "凶" },
  "37": { "title": "猛虎出林", "desc": "權威顯赫,排除萬難,終成大業,名利雙收。", "status": "吉" },
  "38": { "title": "藝能卓越", "desc": "雖有才華,但無力實行,非有耐心,難望成功。", "status": "吉帶凶" },
  "39": { "title": "富貴榮華", "desc": "如意吉祥,才略非凡,名利雙收,永慶隆昌。", "status": "大吉" },
  "40": { "title": "沈浮不定", "desc": "吉凶參半,成敗交替,唯有務實,方能保身。", "status": "吉帶凶" },
  "41": { "title": "德望高尚", "desc": "天賦吉運,德才兼備,名利雙收,萬事亨通。", "status": "大吉" },
  "42": { "title": "意志薄弱", "desc": "才華雖有,但耐力不足,容易停滯,難以發展。", "status": "吉帶凶" },
  "43": { "title": "散財破產", "desc": "虛有其表,外祥內苦,難以守財,身陷困境。", "status": "凶" },
  "44": { "title": "逆境困苦", "desc": "事與願違,難以立身,災禍不斷,苦不堪言。", "status": "大凶" },
  "45": { "title": "德量宏厚", "desc": "排除萬難,名利雙收,功成名就,萬事如意。", "status": "吉" },
  "46": { "title": "羅網繫身", "desc": "困難重重,處境艱難,若無毅力,難逃困局。", "status": "凶" },
  "47": { "title": "點鐵成金", "desc": "開花結果,如意吉祥,大顯身手,名利雙收。", "status": "大吉" },
  "48": { "title": "名利俱全", "desc": "才德兼備,富貴榮華,學識淵博,永慶隆昌。", "status": "大吉" },
  "49": { "title": "吉凶難分", "desc": "成敗交替,不斷波動,唯有慎重,方能保泰。", "status": "吉帶凶" },
  "50": { "title": "一盛一衰", "desc": "成功雖有,但晚景堪慮,若不守成,終陷苦境。", "status": "吉帶凶" },
  "51": { "title": "沈浮交加", "desc": "一成一敗,運氣不定,唯有耐力,可保平安。", "status": "吉帶凶" },
  "52": { "title": "先見之明", "desc": "才略超群,排除萬難,必能成功,名利雙收。", "status": "吉" },
  "53": { "title": "外祥內苦", "desc": "表面風光,實則憂悶,中年之後,難免走下坡。", "status": "吉帶凶" },
  "54": { "title": "多難艱難", "desc": "處境維艱,災禍不斷,非有大志,難望成功。", "status": "大凶" },
  "55": { "title": "吉凶參半", "desc": "外美內苦,成敗不一,唯有毅力,方克難關。", "status": "吉帶凶" },
  "56": { "title": "事與願違", "desc": "空費心力,徒勞無功,財源受損,多災多難。", "status": "大凶" },
  "57": { "title": "寒雪青松", "desc": "雖經霜雪,依然挺拔,只要堅持,終獲成功。", "status": "吉" },
  "58": { "title": "晚景榮譽", "desc": "早年勞碌,中年發達,晚景優游,福壽綿長。", "status": "吉" },
  "59": { "title": "寒蟬悲風", "desc": "處境孤單,意志消沉,難以立身,終陷苦難。", "status": "大凶" },
  "60": { "title": "黑暗無光", "desc": "謀事難成,處境維艱,若無外助,難脫困局。", "status": "大凶" },
  "61": { "title": "名利雙收", "desc": "修身齊家,成就大業,富貴繁榮,萬事亨通。", "status": "吉" },
  "62": { "title": "憂悶不安", "desc": "志向雖遠,但力不從心,發展困難,難成大事。", "status": "凶" },
  "63": { "title": "萬事亨通", "desc": "富貴雙全,子孫繁榮,名震四海,成就偉業。", "status": "大吉" },
  "64": { "title": "骨肉分離", "desc": "災禍重重,處境維艱,親情淡薄,苦難不斷。", "status": "大凶" },
  "65": { "title": "富貴長壽", "desc": "天賦吉運,德才兼備,名利雙收,萬事亨通。", "status": "大吉" },
  "66": { "title": "內外交困", "desc": "進退維谷,苦難折磨,財源受損,災殃不斷。", "status": "大凶" },
  "67": { "title": "事事如意", "desc": "把握時機,大顯身手,功名利祿,繁榮昌盛。", "status": "大吉" },
  "68": { "title": "不虞之譽", "desc": "才氣縱橫,財祿豐足,成就大業,名利雙收。", "status": "吉" },
  "69": { "title": "窮途末路", "desc": "勞而無功,身陷困境,非有大志,難以立身。", "status": "大凶" },
  "70": { "title": "沈淪苦海", "desc": "空費心力,徒勞無功,發展困難,晚景淒涼。", "status": "大凶" },
  "71": { "title": "吉凶參半", "desc": "表面風光,內在憂鬱,成敗交替,唯有務實。", "status": "吉帶凶" },
  "72": { "title": "利害交加", "desc": "一得一失,沈浮不定,唯有謹慎,方能平安。", "status": "凶" },
  "73": { "title": "平安如意", "desc": "雖無大富,但求平順,晚景優游,福壽綿長。", "status": "吉" },
  "74": { "title": "沈淪苦境", "desc": "處境維艱,災禍不斷,若無外助,難脫困局。", "status": "大凶" },
  "75": { "title": "守成平安", "desc": "才略不足,不宜大動,只要守成,可保平安。", "status": "吉帶凶" },
  "76": { "title": "傾覆之象", "desc": "空費心力,徒勞無功,財源受損,災難不斷。", "status": "大凶" },
  "77": { "title": "樂極生悲", "desc": "前程雖好,但後勁不足,若不守成,終陷苦境。", "status": "吉帶凶" },
  "78": { "title": "晚景堪慮", "desc": "早年發達,中年走下坡,若不未雨綢繆,晚景堪憂。", "status": "吉帶凶" },
  "79": { "title": "雲遮半月", "desc": "前程暗淡,發展困難,非有大志,難望成功。", "status": "大凶" },
  "80": { "title": "萬事終局", "desc": "空費心力,徒勞無功,財源受損,難免困苦。", "status": "大凶" },
  "81": { "title": "萬物回春", "desc": "還元復始,萬物回春,如意吉祥,大展鴻圖。", "status": "大吉" }
} as const

// 台灣法人主體筆劃對照表
export const CORPORATE_OFFSETS = {
  "股份有限公司": 45,
  "有限公司": 30,
  "協會": 19,
  "聯誼會": 42,
  "基金會": 32,
  "合作社": 21,
  "商號": 0,
  "行號": 0,
  "研發中心": 29,
  "辦事處": 23,
} as const

export type CorporateType = keyof typeof CORPORATE_OFFSETS

// 英文字母筆畫對照表 (a=1, b=2, ..., z=26)
export const ENGLISH_LETTER_STROKES: Record<string, number> = {
  'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7, 'h': 8, 'i': 9,
  'j': 10, 'k': 11, 'l': 12, 'm': 13, 'n': 14, 'o': 15, 'p': 16, 'q': 17,
  'r': 18, 's': 19, 't': 20, 'u': 21, 'v': 22, 'w': 23, 'x': 24, 'y': 25, 'z': 26,
  'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'H': 8, 'I': 9,
  'J': 10, 'K': 11, 'L': 12, 'M': 13, 'N': 14, 'O': 15, 'P': 16, 'Q': 17,
  'R': 18, 'S': 19, 'T': 20, 'U': 21, 'V': 22, 'W': 23, 'X': 24, 'Y': 25, 'Z': 26,
}

// 康熙字典筆畫數據庫（包含常用字）
export const KANGXI_STROKES: Record<string, number> = {
  // 常用品牌字
  "策": 12, "研": 9, "容": 10, "晟": 10, "科": 9, "技": 7,
  "曜": 18, "寬": 15, "居": 8, "智": 12, "慧": 15, "數": 15,
  "位": 7, "主": 5, "權": 22, "人": 2, "工": 3, "大": 3,
  
  // 公司相關字
  "股": 8, "份": 6, "有": 6, "限": 15, "公": 4, "司": 5,
  "協": 8, "會": 13, "聯": 17, "誼": 15, "基": 11, "金": 8,
  "合": 6, "作": 7, "社": 8, "商": 11, "號": 13, "行": 6,
  "發": 12, "中": 4, "心": 4, "辦": 16, "事": 8, "處": 11,
  
  // 數字
  "一": 1, "二": 2, "三": 3, "四": 4, "五": 5, "六": 6, "七": 7,
  "八": 8, "九": 9, "十": 10, "零": 13, "壹": 12, "貳": 12,
  "參": 11, "肆": 13, "伍": 6, "陸": 16, "柒": 9, "捌": 11,
  "玖": 8, "拾": 10, "佰": 8, "仟": 5, "萬": 15, "億": 15,
  
  // 常用字根與部首
  "乙": 1, "了": 2, "力": 2, "丁": 2, "刀": 2, "又": 2, "及": 3,
  "士": 3, "子": 3, "小": 3, "山": 3, "川": 3, "才": 3, "之": 4,
  "不": 4, "丹": 4, "云": 4, "互": 4, "井": 4, "什": 4, "化": 4,
  "天": 4, "太": 4, "夫": 4, "孔": 4, "少": 4, "日": 4, "月": 4,
  "木": 4, "欠": 4, "止": 4, "比": 4, "毛": 4, "氏": 4, "水": 4,
  "火": 4, "片": 4, "牙": 4, "牛": 4, "犬": 4, "王": 4, "升": 4,
  "文": 4, "方": 4,
  
  // 6-10劃常用字
  "本": 5, "正": 5, "民": 5, "永": 5, "玉": 5, "瓦": 5, "甘": 5,
  "生": 5, "用": 5, "田": 5, "由": 5, "甲": 5, "申": 5, "白": 5,
  "皮": 5, "目": 5, "矛": 5, "石": 5, "示": 5, "禾": 5, "立": 5,
  "仕": 5, "世": 5, "以": 5, "仙": 5, "代": 5, "令": 5, "冬": 5,
  "加": 5, "功": 5, "可": 5, "弘": 5, "必": 5, "玄": 5, "平": 5,
  
  "竹": 6, "米": 6, "糸": 6, "羊": 6, "羽": 6, "老": 6, "而": 6,
  "耒": 6, "耳": 6, "聿": 6, "肉": 6, "臣": 6, "自": 6, "至": 6,
  "臼": 6, "舌": 6, "舛": 6, "舟": 6, "艮": 6, "色": 6, "艸": 6,
  "虍": 6, "虫": 6, "血": 6, "衣": 6, "西": 6, "安": 6, "光": 6,
  "全": 6, "名": 6, "守": 6, "好": 6, "宇": 6,
  
  "見": 7, "角": 7, "言": 7, "谷": 7, "豆": 7, "豕": 7, "豸": 7,
  "貝": 7, "赤": 7, "走": 7, "足": 7, "身": 7, "車": 7, "辛": 7,
  "辰": 7, "邑": 7, "酉": 7, "里": 7, "成": 7, "志": 7, "我": 7,
  "利": 7, "希": 7, "吟": 7, "宏": 7,
  
  "長": 8, "門": 8, "阜": 8, "隶": 8, "隹": 8, "雨": 8, "靑": 8,
  "非": 8, "宗": 8, "宜": 8, "定": 8, "宛": 8, "服": 8, "易": 8,
  "投": 8, "宙": 8,
  
  "面": 9, "革": 9, "韋": 9, "韭": 9, "音": 9, "頁": 9, "風": 9,
  "飛": 9, "食": 9, "首": 9, "香": 9, "宣": 9, "信": 9, "俊": 9,
  "保": 9, "品": 9, "威": 9, "思": 9, "政": 9, "春": 9, "星": 9,
  "柏": 9, "柔": 9, "洋": 9, "炳": 9, "美": 9, "建": 9, "拓": 9,
  "法": 9,
  
  "馬": 10, "骨": 10, "高": 10, "髟": 10, "鬥": 10, "鬯": 10,
  "鬲": 10, "鬼": 10, "珍": 10, "真": 10, "秘": 10, "宸": 10,
  "家": 10, "庫": 10, "料": 10, "展": 10, "能": 10, "宮": 10,
  
  // 11劃以上常用字
  "祥": 11, "密": 11, "盟": 13, "祺": 13, "邦": 11, "國": 11,
  "習": 11, "細": 11, "通": 11, "產": 11, "設": 11, "務": 11, "紫": 11,
  
  "創": 12, "集": 12, "富": 12, "貿": 12, "開": 12, "程": 12,
  "絡": 12, "統": 12, "雲": 12,
  
  "新": 13, "源": 13, "資": 13, "業": 13, "團": 14, "寧": 14,
  "福": 14, "實": 14, "網": 14, "算": 14, "精": 14, "端": 14, "菁": 14,
  
  "質": 15, "德": 15, "慶": 15, "賢": 15, "震": 15, "緻": 15,
  "碼": 15,
  
  "學": 16, "達": 16, "築": 16, "器": 16,
  
  "優": 17, "應": 17, "據": 17,
  
  "際": 19,
  
  "寶": 20,
  
  // 其他台灣常用名字字
  "元": 4, "允": 4, "友": 4, "仁": 4, "台": 5, "義": 13,
  "明": 8, "昌": 8, "昭": 9, "晨": 11, "景": 12,
  "勇": 9, "強": 11, "偉": 11, "傑": 12, "榮": 14,
  "華": 14, "豐": 18, "麗": 19,
  
  // 擴充常用字庫（按筆畫分類）
  // 5畫
  "巧": 5, "市": 5, "布": 5, "弗": 5, "北": 5, "丙": 5, "丘": 5,
  "他": 5, "仔": 5, "兄": 5, "冉": 5, "册": 5,
  "凸": 5, "凹": 5, "出": 5, "刊": 5, "卉": 5, "去": 5,
  
  // 6畫
  "州": 6, "列": 6, "印": 6, "吉": 6, "同": 6, "向": 6, "后": 6,
  "因": 6, "地": 6, "在": 6, "多": 6, "字": 6, "存": 6, "宅": 6,
  "年": 6, "式": 6, "收": 6, "早": 6, "次": 6, "江": 6,
  "池": 6, "汀": 6, "決": 6, "百": 6, "考": 6, "伊": 6, "休": 6,
  "件": 6, "任": 6, "企": 6, "伏": 6, "先": 6, "再": 6, "吃": 6,
  "各": 6,
  
  // 7畫
  "亨": 7, "住": 7, "佐": 7, "伴": 7, "但": 7, "你": 7, "克": 7,
  "免": 7, "兌": 7, "兵": 7, "冷": 7, "別": 7, "助": 7, "努": 7,
  "吳": 7, "呂": 7, "告": 7, "困": 7, "坐": 7, "均": 7, "坊": 7,
  "妙": 7, "完": 7, "尾": 7, "局": 7, "形": 7, "役": 7, "忍": 7,
  "快": 7, "改": 7, "更": 7, "村": 7, "杜": 7, "步": 7, "每": 7,
  "汝": 7, "沈": 7, "沙": 7, "沖": 7, "沛": 7, "私": 7, "秀": 7,
  "系": 7, "良": 7, "君": 7, "否": 7, "含": 7, "吸": 7, "妖": 7,
  "杏": 7, "杉": 7, "材": 7, "汪": 7, "沐": 7, "判": 7, "序": 7,
  "床": 7, "旱": 7, "災": 7, "男": 7, "町": 7, "秤": 7, "究": 7,
  
  // 8畫
  "京": 8, "享": 8, "佳": 8, "使": 8, "例": 8, "供": 8, "依": 8,
  "侍": 8, "佩": 8, "來": 8, "兒": 8, "兩": 8, "其": 8, "典": 8,
  "刻": 8, "券": 8, "到": 8, "制": 8, "卓": 8, "取": 8, "受": 8,
  "周": 8, "味": 8, "命": 8, "和": 8, "固": 8, "坦": 8, "坡": 8,
  "夜": 8, "奇": 8, "奈": 8, "奉": 8, "委": 8, "姑": 8, "姐": 8,
  "季": 8, "孟": 8, "官": 8, "尚": 8, "岩": 8, "岳": 8, "弦": 8,
  "往": 8, "征": 8, "忠": 8, "念": 8, "性": 8, "怪": 8, "房": 8,
  "所": 8, "承": 8, "抱": 8, "拆": 8, "拉": 8, "拍": 8, "拒": 8,
  "拔": 8, "招": 8, "昆": 8, "昇": 8, "昔": 8, "朋": 8,
  "杭": 8, "枝": 8, "林": 8, "松": 8, "板": 8, "析": 8, "枕": 8,
  "果": 8, "武": 8, "河": 8, "治": 8, "泉": 8, "泊": 8, "波": 8,
  "注": 8, "泳": 8, "泰": 8, "炎": 8, "炊": 8, "物": 8, "牧": 8,
  "狀": 8, "知": 8, "直": 8, "空": 8, "青": 8, "刷": 8,
  "卷": 8, "坤": 8, "枚": 8, "泡": 8, "炒": 8, "炕": 8, "狐": 8,
  
  // 9畫
  "亮": 9, "促": 9, "便": 9, "係": 9, "俗": 9, "冒": 9,
  "冠": 9, "削": 9, "前": 9, "勁": 9, "南": 9, "厚": 9, "咨": 9,
  "哈": 9, "型": 9, "城": 9, "客": 9, "室": 9, "帝": 9, "幽": 9,
  "度": 9, "後": 9, "律": 9, "怨": 9, "怒": 9, "急": 9, "恆": 9,
  "映": 9, "昨": 9, "是": 9, "柳": 9, "柱": 9, "查": 9, "柵": 9,
  "染": 9, "柿": 9, "洗": 9, "洛": 9, "津": 9, "洪": 9, "活": 9,
  "洲": 9, "派": 9, "流": 9, "為": 9, "界": 9, "皆": 9, "相": 9,
  "省": 9, "看": 9, "秋": 9, "穿": 9, "突": 9, "軍": 9, "哉": 9,
  "姿": 9, "施": 9, "既": 9, "架": 9, "炫": 9,
  "玲": 9, "畏": 9, "盆": 9, "砂": 9, "紅": 9,
  "約": 9, "耐": 9, "虹": 9, "訂": 9, "計": 9, "貞": 9, "負": 9,
  "軌": 9, "重": 9, "俠": 9, "俐": 9,
  
  // 10畫
  "修": 10, "倍": 10, "倉": 10, "個": 10, "值": 10, "倒": 10, "候": 10,
  "借": 10, "倡": 10, "們": 10, "倫": 10, "俱": 10, "准": 10, "凌": 10,
  "剛": 10, "原": 10, "員": 10, "唐": 10, "哥": 10, "哲": 10, "唱": 10,
  "討": 10, "宴": 10, "宰": 10, "害": 10, "宵": 10, "射": 10, "峰": 10,
  "島": 10, "峽": 10, "師": 10, "席": 10, "庭": 10, "弱": 10, "恩": 10,
  "恐": 10, "恢": 10, "恥": 10, "恨": 10, "時": 10, "晉": 10, "晏": 10,
  "書": 10, "朗": 10, "案": 10, "桂": 10, "桃": 10, "格": 10, "框": 10,
  "桐": 10, "桑": 10, "根": 10, "校": 10, "株": 10, "海": 10, "浪": 10,
  "浮": 10, "浴": 10, "消": 10, "浩": 10, "烈": 10, "烏": 10, "特": 10,
  "班": 10, "留": 10, "病": 10, "租": 10, "秦": 10, "秩": 10, "紋": 10,
  "純": 10, "紙": 10, "索": 10, "級": 10, "素": 10, "耕": 10, "致": 10,
  "般": 10, "航": 10, "茵": 10, "荷": 10, "記": 10, "訓": 10, "財": 10,
  "起": 10, "退": 10, "酒": 10, "配": 10, "針": 10, "釘": 10, "兼": 10,
  "冥": 10, "冤": 10, "凍": 10, "剖": 10, "劇": 10, "效": 10, "勉": 10,
  "匿": 10, "哭": 10, "埋": 10, "夏": 10, "套": 10,
  "娘": 10, "孫": 10, "晃": 10,
  "桓": 10, "栖": 10, "浦": 10, "涉": 10, "涙": 10, "烤": 10, "珠": 10,
  "疾": 10, "納": 10, "袁": 10, "被": 10, "訊": 10,
  
  // 11畫
  "偵": 11, "做": 11, "停": 11, "健": 11, "側": 11, "偶": 11,
  "傅": 11, "區": 11, "唯": 11, "問": 11, "啟": 11, "域": 11, "堅": 11,
  "堂": 11, "培": 11, "堆": 11, "執": 11, "婆": 11, "婚": 11, "專": 11,
  "將": 11, "帶": 11, "常": 11, "康": 11, "彩": 11, "從": 11, "徒": 11,
  "得": 11, "御": 11, "悠": 11, "悅": 11, "悟": 11, "患": 11, "情": 11,
  "惜": 11, "惠": 11, "晚": 11, "晶": 11, "曹": 11, "望": 11, "桶": 11,
  "梁": 11, "梅": 11, "條": 11, "淨": 11, "淡": 11, "深": 11, "混": 11,
  "清": 11, "焦": 11, "理": 11, "現": 11, "票": 11, "移": 11, "第": 11,
  "紳": 11, "終": 11, "組": 11, "聊": 11, "術": 11,
  "規": 11, "視": 11, "訪": 11, "許": 11, "責": 11, "軟": 11, "造": 11,
  "連": 11, "速": 11, "逐": 11, "週": 11, "進": 11, "野": 11, "釣": 11,
  "麥": 11, "麻": 11, "偷": 11, "寂": 11, "婁": 11, "庶": 11,
  "悔": 11, "惡": 11, "您": 11, "掃": 11, "教": 11, "敝": 11, "旁": 11,
  "曼": 11, "梢": 11, "淚": 11, "淮": 11, "淵": 11, "添": 11,
  "渴": 11, "烽": 11, "琉": 11, "琳": 11, "略": 11, "畢": 11,
  "異": 11, "盛": 11, "眼": 11, "眾": 11, "瞭": 11, "砍": 11, "硬": 11,
  "符": 11, "累": 11, "紹": 11,
  "翌": 11, "聆": 11, "聲": 11, "脫": 11, "袋": 11,
  "貨": 11, "貪": 11, "逗": 11, "透": 11, "陪": 11, "雀": 11, "鹿": 11,
  
  // 12畫
  "善": 12, "喚": 12, "場": 12, "報": 12, "媒": 12, "寒": 12, "尊": 12,
  "就": 12, "幾": 12, "循": 12, "悲": 12, "普": 12, "朝": 12,
  "期": 12, "棉": 12, "棋": 12, "植": 12, "森": 12, "棟": 12, "款": 12,
  "減": 12, "測": 12, "渡": 12, "港": 12, "游": 12, "湖": 12, "湯": 12,
  "湧": 12, "焰": 12, "無": 12, "然": 12, "猶": 12, "琴": 12, "番": 12,
  "登": 12, "筆": 12, "等": 12, "答": 12, "給": 12, "絕": 12,
  "結": 12, "詞": 12, "診": 12, "評": 12, "象": 12, "貴": 12, "買": 12,
  "費": 12, "賀": 12, "越": 12, "超": 12, "距": 12, "軸": 12, "最": 12,
  "閑": 12, "間": 12, "雄": 12, "雅": 12, "項": 12, "順": 12, "須": 12,
  "飯": 12, "飲": 12, "黃": 12, "黑": 12, "傘": 12, "備": 12,
  "復": 12, "援": 12, "散": 12, "晴": 12, "暑": 12, "椅": 12, "棍": 12,
  "棗": 12, "棚": 12, "棘": 12, "湛": 12, "筒": 12,
  "絞": 12, "絲": 12, "絳": 12, "詠": 12, "鈍": 12,
  "絛": 12, "惟": 12, "惱": 12, "琪": 12,
  "琦": 12, "琥": 12, "琵": 12, "琶": 12, "畫": 12, "短": 12, "硝": 12,
  "硯": 12, "稅": 12, "稍": 12, "窗": 12, "粗": 12, "粥": 12, "粟": 12,
  
  // 13畫
  "傳": 13, "傾": 13, "債": 13, "傷": 13, "僅": 13, "像": 13, "準": 13,
  "溝": 13, "滅": 13, "滋": 13, "滑": 13, "溫": 13, "滴": 13, "演": 13,
  "睡": 13, "碑": 13, "禁": 13, "落": 13, "葉": 13, "葬": 13, "裕": 13,
  "話": 13, "詳": 13, "該": 13, "試": 13, "詩": 13, "路": 13, "跡": 13,
  "跳": 13, "雷": 13, "電": 13, "照": 13, "煙": 13, "煉": 13,
  "暖": 13, "暗": 13, "當": 13, "罪": 13, "置": 13, "群": 13,
  "虛": 13, "勢": 13, "勤": 13, "想": 13, "愛": 13, "感": 13, "慈": 13,
  "意": 13, "聖": 13, "誠": 13, "跟": 13, "鉛": 13, "預": 13, "僧": 13,
  "催": 13, "傻": 13, "傭": 13, "僑": 13, "溜": 13, "滄": 13, "督": 13,
  "詢": 13, "詰": 13, "跨": 13, "煥": 13, "煤": 13,
  "煞": 13, "煎": 13, "暈": 13, "虞": 13, "廉": 13, "馳": 13,
  
  // 14畫
  "僥": 14, "價": 14, "儀": 14, "夢": 14, "境": 14, "對": 14,
  "瑪": 14, "瑜": 14, "榜": 14, "榴": 14, "歲": 14, "滿": 14, "漂": 14,
  "漏": 14, "漠": 14, "漁": 14, "漢": 14, "漫": 14, "漸": 14, "瑞": 14,
  "瑙": 14, "瑛": 14, "瑰": 14, "瑯": 14, "瑟": 14, "菊": 14, "菌": 14,
  "菜": 14, "菩": 14, "菲": 14, "萊": 14, "萌": 14, "萍": 14, "製": 14,
  "認": 14, "誓": 14, "誌": 14, "語": 14, "誤": 14, "說": 14, "赫": 14,
  "趙": 14, "輕": 14, "輔": 14, "輝": 14, "銀": 14, "銅": 14, "銘": 14,
  "閣": 14, "障": 14, "領": 14, "鳳": 14, "鳴": 14, "齊": 14, "壽": 14,
  "圖": 14, "嘉": 14, "慣": 14, "構": 14, "歐": 14, "種": 14, "綠": 14,
  "綱": 14, "綴": 14, "綜": 14, "維": 14, "綻": 14, "緊": 14, "緒": 14,
  "線": 14, "編": 14, "緩": 14, "罰": 14, "署": 14, "魂": 14, "僚": 14,
  "夥": 14, "墅": 14, "慢": 14, "榕": 14, "漩": 14, "漲": 14, "漣": 14,
  "瑤": 14, "菸": 14, "銳": 14, "閥": 14, "齋": 14,
  "緋": 14, "締": 14, "緝": 14,
  
  // 15畫
  "幣": 15, "劍": 15, "劉": 15, "增": 15, "墨": 15, "審": 15,
  "廟": 15, "廢": 15, "慮": 15, "慰": 15, "摩": 15,
  "撞": 15, "撤": 15, "撥": 15, "撫": 15, "敵": 15, "暴": 15, "樂": 15,
  "樓": 15, "標": 15, "模": 15, "樣": 15, "潮": 15, "潤": 15, "潔": 15,
  "潛": 15, "澄": 15, "熟": 15, "熱": 15, "範": 15, "緣": 15, "練": 15,
  "賠": 15, "賣": 15, "賦": 15, "賭": 15, "賴": 15, "賺": 15, "賽": 15,
  "賞": 15, "購": 15, "趣": 15, "輪": 15, "適": 15, "遮": 15, "遷": 15,
  "選": 15, "遺": 15, "鋼": 15, "錄": 15, "錦": 15, "養": 15, "餘": 15,
  "駐": 15, "魯": 15, "魅": 15, "鴉": 15, "劑": 15, "墳": 15, "墜": 15,
  "憶": 15, "摯": 15, "撐": 15, "樟": 15, "澆": 15,
  "潘": 15, "熬": 15, "緞": 15, "緹": 15, "緯": 15, "賜": 15, "賓": 15,
  "賬": 15, "輯": 15, "鋪": 15, "霆": 15, "霄": 15, "霖": 15, "霜": 15,
  "霞": 15, "駿": 15, "鴦": 15, "慘": 15,
  "慷": 15, "熨": 15, "縛": 15,
  
  // 16畫
  "儒": 16, "儲": 16, "憤": 16, "戰": 16, "橋": 16, "機": 16,
  "橫": 16, "澳": 16, "濃": 16, "燒": 16, "燈": 16, "燦": 16, "獨": 16,
  "積": 16, "穆": 16, "糕": 16, "糖": 16, "縣": 16, "縱": 16, "衡": 16,
  "親": 16, "諸": 16, "謀": 16, "遵": 16, "錯": 16, "錢": 16, "錫": 16,
  "隨": 16, "靜": 16, "頭": 16, "館": 16, "融": 16, "憲": 16, "激": 16,
  "燕": 16, "龍": 16, "懇": 16, "燉": 16, "錐": 16, "錨": 16,
  "諜": 16, "龜": 16, "導": 16,
  
  // 17畫
  "營": 17, "環": 17, "臨": 17, "謙": 17, "輾": 17, "隱": 17,
  "鍵": 17, "韓": 17, "績": 17, "醒": 17, "償": 17, "總": 17,
  "濟": 17, "貓": 17, "鴻": 17, "齡": 17,
  
  // 18畫
  "聽": 18, "雙": 18, "題": 18, "額": 18, "顏": 18, "歸": 18, "瀾": 18,
  "禮": 18, "簡": 18, "職": 18, "舊": 18, "檔": 18, "濱": 18, "繁": 18,
  "織": 18, "繪": 18, "翻": 18, "轉": 18, "醫": 18, "瞧": 18, "繡": 18,
  "藝": 18, "鎮": 18, "濤": 18, "繫": 18,
  
  // 19畫
  "羅": 19, "關": 19, "難": 19, "類": 19, "願": 19, "證": 19, "識": 19,
  "邊": 19, "鐘": 19, "繼": 19, "躍": 19, "穩": 19, "譜": 19, "薇": 19,
  "霧": 19, "羹": 19, "譯": 19,
  
  // 20畫
  "籌": 20, "競": 20, "釋": 20, "鐵": 20, "懸": 20, "藍": 20, "藏": 20,
  "警": 20, "議": 20, "攀": 20, "獻": 20, "譽": 20, "黨": 20, "耀": 20,
  
  // 21畫以上
  "蘭": 21, "護": 21, "驚": 21, "蘿": 22, "驗": 23, "鷹": 24,
}

// 大吉數清單 (推薦使用)
export const AUSPICIOUS_NUMBERS = [
  1, 3, 5, 13, 15, 16, 21, 23, 24, 29, 31, 33, 39, 41, 47, 48, 63, 65, 67, 81
]

// 河圖五行對照表 (根據總格個位數判定)
// 智慧術數邏輯：1,6金；2,7水；3,8火；4,9木；5,0土
export const FIVE_ELEMENTS_MAP = {
  "金": [1, 6],
  "水": [2, 7],
  "火": [3, 8],
  "木": [4, 9],
  "土": [5, 0],
} as const

/**
 * 動態查詢漢字筆畫數（使用 hanzi-writer-data）
 * @param char 單個漢字
 * @returns 筆畫數，找不到則返回 null
 */
async function getStrokesFromHanziWriter(char: string): Promise<number | null> {
  try {
    // 將字符轉換為 Unicode 編碼
    const charCode = char.charCodeAt(0).toString(16)
    const data = await import(`hanzi-writer-data/${charCode}.json`)
    return data.strokes?.length || null
  } catch (error) {
    return null
  }
}

/**
 * 同步版本：查詢常用漢字筆畫（優先使用本地數據庫）
 * 對於不在數據庫中的字，返回 null，由調用者決定如何處理
 * @param char 單個漢字
 * @returns 筆畫數或 null
 */
function getCharStrokes(char: string): number | null {
  // 1. 優先使用英文字母對照表
  if (ENGLISH_LETTER_STROKES[char]) {
    return ENGLISH_LETTER_STROKES[char]
  }
  
  // 2. 使用康熙字典數據庫
  if (KANGXI_STROKES[char]) {
    return KANGXI_STROKES[char]
  }
  
  // 3. 忽略空格和特殊符號
  if (char === ' ' || char === '-' || char === '_' || char === '.') {
    return 0
  }
  
  // 4. 找不到則返回 null
  return null
}

/**
 * 計算字串的總筆劃數（支持中文和英文）
 * @param text 中文或英文文字
 * @returns 總筆劃數
 */
export function calculateStrokes(text: string): number {
  let totalStrokes = 0
  const missingChars: string[] = []
  
  for (const char of text) {
    const strokes = getCharStrokes(char)
    
    if (strokes !== null) {
      totalStrokes += strokes
    } else {
      // 如果字典中沒有，使用預設值 10 並記錄
      missingChars.push(char)
      totalStrokes += 10
    }
  }
  
  // 如果有缺失的字，在控制台提示（開發環境）
  if (missingChars.length > 0 && process.env.NODE_ENV === 'development') {
    console.warn(`以下漢字未在字典中，使用預設值 10 畫：${missingChars.join(', ')}`)
  }
  
  return totalStrokes
}

/**
 * 判斷字串是否為英文
 * @param text 文字
 * @returns 是否為英文
 */
export function isEnglish(text: string): boolean {
  return /^[a-zA-Z\s\-_.]+$/.test(text)
}

/**
 * 計算81靈動數 (循環公式)
 * @param totalStrokes 總筆劃數
 * @returns 1-81之間的靈動數
 */
export function getNumerologyNumber(totalStrokes: number): number {
  if (totalStrokes <= 0) return 1
  if (totalStrokes <= 81) return totalStrokes
  
  // 循環公式: (Total - 1) % 80 + 1
  return ((totalStrokes - 1) % 80) + 1
}

/**
 * 併數計算（用於英文五行判定）
 * 將多位數不斷相加直到得到個位數
 * @param number 原始數字
 * @returns 併數結果（1-9或0）
 */
export function calculateReducedNumber(number: number): number {
  if (number < 10) return number
  
  let sum = number
  while (sum >= 10) {
    const digits = sum.toString().split('').map(Number)
    sum = digits.reduce((a, b) => a + b, 0)
  }
  
  return sum
}

/**
 * 根據總格個位數判定五行屬性
 * @param totalStrokes 總筆劃數
 * @param useReduction 是否使用併數計算（英文用）
 * @returns 五行屬性
 */
export function getFiveElement(totalStrokes: number, useReduction: boolean = false): string {
  let lastDigit: number
  
  if (useReduction) {
    // 英文使用併數計算
    lastDigit = calculateReducedNumber(totalStrokes)
  } else {
    // 中文直接取個位數
    lastDigit = totalStrokes % 10
  }
  
  for (const [element, digits] of Object.entries(FIVE_ELEMENTS_MAP)) {
    if ((digits as readonly number[]).includes(lastDigit)) {
      return element
    }
  }
  
  return "土" // 預設值
}

/**
 * 取得靈動數的詳細解釋
 * @param number 靈動數 (1-81)
 * @returns 靈動數資料
 */
export function getNumerologyInfo(number: number) {
  const key = String(number) as keyof typeof NUMEROLOGY_DATABASE
  return NUMEROLOGY_DATABASE[key] || NUMEROLOGY_DATABASE["1"]
}

/**
 * 判斷是否為大吉數
 * @param number 靈動數
 * @returns 是否為推薦的大吉數
 */
export function isAuspicious(number: number): boolean {
  return AUSPICIOUS_NUMBERS.includes(number)
}

/**
 * 完整的品牌命名診斷
 * @param brandName 品牌名稱
 * @param corporateType 法人主體類型 (可選)
 * @returns 完整診斷報告
 */
export function analyzeBrandName(
  brandName: string,
  corporateType?: CorporateType
) {
  // 判斷是否為英文
  const isEnglishText = isEnglish(brandName)
  
  // 計算基礎筆劃
  const baseStrokes = calculateStrokes(brandName)
  
  // 加上法人主體筆劃
  const corporateOffset = corporateType ? CORPORATE_OFFSETS[corporateType] : 0
  const totalStrokes = baseStrokes + corporateOffset
  
  // 計算靈動數（吉凶仍用81循環）
  const numerologyNumber = getNumerologyNumber(totalStrokes)
  
  // 取得靈動數資料
  const numerologyInfo = getNumerologyInfo(numerologyNumber)
  
  // 判定五行（英文用併數，中文用個位數）
  const fiveElement = getFiveElement(totalStrokes, isEnglishText)
  
  // 判斷是否為大吉數
  const isGood = isAuspicious(numerologyNumber)
  
  return {
    brandName,
    corporateType,
    baseStrokes,
    corporateOffset,
    totalStrokes,
    numerologyNumber,
    numerologyInfo,
    fiveElement,
    isAuspicious: isGood,
    isEnglish: isEnglishText,
  }
}

/**
 * 中文轉拼音 (簡化版本)
 * @param chinese 中文文字
 * @returns 拼音建議
 */
export function chineseToPinyin(chinese: string): {
  hanyu: string
  tongyong: string
} {
  // TODO: 接入真實的拼音轉換 API
  // 這裡先返回示例資料
  return {
    hanyu: "示例拼音",
    tongyong: "示例通用拼音"
  }
}

/**
 * 根據品牌性質建議網域後綴
 * @param brandType 品牌性質
 * @returns 推薦的網域後綴清單
 */
export function suggestDomainExtensions(brandType: string): Array<{
  extension: string
  reason: string
  priority: "high" | "medium" | "low"
}> {
  const suggestions = [
    { extension: ".ai", reason: "適合 AI 教學與策研賦能品牌", priority: "high" as const },
    { extension: ".tw", reason: "適合深耕台灣風土的品牌", priority: "medium" as const },
    { extension: ".com", reason: "商業必備的國際護照", priority: "high" as const },
  ]
  
  return suggestions
}
